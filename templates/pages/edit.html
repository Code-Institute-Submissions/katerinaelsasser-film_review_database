{% extends 'layout/userbase.html' %} {% block content %}
<!---Slideshow-->
<div class="w3-content w3-section contain-fluid">
  <img class="movie-header" src="/static/images/headers/header-36.jpg">
  <img class="movie-header" src="/static/images/headers/header-37.jpg">
  <img class="movie-header" src="/static/images/headers/header-38.jpg">
  <img class="movie-header" src="/static/images/headers/header-39.jpg">
  <img class="movie-header" src="/static/images/headers/header-40.jpg">
</div>

<div class="container-fluid text-spacing text-center">
        <h1 class="font-weight-light">Edit/Delete Movies</h1>
        <p>Made an error on a movie added or want to remove a movie? Scroll below to edit/delete movies that are in the database.</p>
    </div>

<!--Edit/Delete Movies--->
<div class="container">
    <div class="row">

 <!---film----->
        {% for movie in movies %}
        <div class="col-sm-12 col-md-6 col-lg-3 film-card film-effect">
            <div class="card border-0 shadow">
                <img src="{{movie.poster}}" class="card-img-top" alt="movie-poster">
                <h4 class="text-center modal-title">{{movie.title}}</h4>
                <div class="row container">
                    <div class="input-group-append col-6">
                        <button class="btn btn-info" data-toggle="modal" data-target="#infoModal-{{movie._id}}">Edit</button>
                    </div>
                    <div class="input-group-append col-6">
                        <a href="{{url_for('removemovie', movie_id=movie._id)}}" class="btn btn-danger">Delete</a>
                    </div>
                </div>
            </div>
        </div>
        <!-- edit modal -->
<div class="modal fade" id="infoModal-{{movie._id}}" tabindex="-1" role="dialog" aria-labelledby="{{movie._id}}-Label" aria-hidden="true" data-backdrop="false">
<div class="modal-dialog modal-lg" role="document">
    <div class="modal-content">
      <div class="modal-header">
        <h2 class="modal-title">Edit Movie</h2>
        <button type="button" class="close" data-dismiss="modal" aria-label="Close">
          <span aria-hidden="true">&times;</span>
        </button>
      </div>
      <div class="modal-body">
        <div class="row modal-padding">
              <form action="{{ url_for('updatemovies', movie_id=movie._id) }}" method="POST">
                    <div class="row">
                        <!--Movie name-->
                        <div class="col-md-6 mb-3">
                            <h4 class="text-center modal-text"><label for="title">Movie Title</label></h4>
                            <input type="text" class="form-control" id="title" name="title" placeholder="" value="{{movie.title}}" required="">
                            <div class="invalid-feedback">
                                Valid movie title is required.
                            </div>
                        </div>
                        <!--Director name-->
                        <div class="col-md-6 mb-3">
                            <h4 class="text-center modal-text"><label for="director">Director</label></h4>
                            <input type="text" class="form-control" id="director" name="director" placeholder="" value="{{movie.director}}" required="">
                            <div class="invalid-feedback">
                                Valid director name is required.
                            </div>
                        </div>
                        <!--Movie description-->
                        <div class="col-md-12 mb-3">
                            <h4 class="text-center modal-text"><label for="plot">Description</label></h4>
                            <input type="text" class="form-control" id="plot" name="plot" placeholder="" value="{{movie.plot}}" required="">
                            <div class="invalid-feedback">
                                Please enter the movie plot.
                            </div>
                        </div>
                        <!--Movie Genre-->
                        <div class="col-md-12 mb-3">
                            <h4 class="text-center modal-text"><label for="genre">Genre</label></h4>
                            <input type="text" class="form-control" id="genre" name="genre" required="" value="{{movie.genre}}">
                            <div class="invalid-feedback">
                                Please fill in with one or multiple genres.
                            </div>
                        </div>
                        <!--Movie release year-->
                        <div class="col-md-4 mb-3">
                            <h4 class="text-center modal-text"><label for="year">Year of Release</label></h4>
                            <input type="text" class="form-control" id="year" name="year" placeholder="" value="{{movie.year}}" required="">
                            <div class="invalid-feedback">
                                Valid year of release is required.
                            </div>
                        </div>
                        <!--Movie Age Rating-->
                        <div class="col-md-4 mb-3">
                            <h4 class="text-center modal-text"><label for="rated">Age Rating</label></h4>
                            <select class="custom-select d-block w-100" id="rated" name="rated" required="" value="{{movie.rated}}">
                                <option >{{movie.rated}}</option>
                                <option value="U">U</option>
                                <option value="PG">PG</option>
                                <option value="12A">12A</option>
                                <option value="12">12</option>
                                <option value="15">15</option>
                                <option value="18">18</option>
                            </select>
                            <div class="invalid-feedback">
                                Please select from the dropdown.
                            </div>
                        </div>
                        <!--Movie poster-->
                        <div class="col-md-4 mb-3">
                            <h4 class="text-center modal-text"><label for="poster">Poster</label></h4>
                            <input type="text" class="form-control" id="poster" name="poster" placeholder="" value="{{movie.poster}}" required="">
                            <div class="invalid-feedback">
                                Valid year of release is required.
                            </div>
                        </div>
                        <!--Submit button-->
                        <div class="text-center col-12">
                            <button type="submit" class="btn btn-success btn-block text-center">Submit</button>
                        </div>
                </form>
        </div>
      </div>
      <div class="modal-footer">
          <button class="btn btn-danger" data-dismiss="modal">Close</button>
      </div>
    </div>
  </div>
</div>
















        <div id="editModal" class="modal fade" tabindex="-1" role="dialog">
            <div class="modal-content">
                <span class="close">&times;</span>
                
                </div>
            </div>
        </div>
        {% endfor %}

    </div>
</div>

{% endblock %}